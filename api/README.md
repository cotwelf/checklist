# projects

## 1.先有 projects 之后才可以创建 plan

## 2.表结构

|  字段名  | 类型（格式） | 说明                                 | 规则                                          |
| :------: | :----------- | :----------------------------------- | :-------------------------------------------- |
|    id    | 主键，int    | 不允许重复                           |                                               |
|  status  | int          | 1：正在进行；10：已完成；9：半途而废 | 手动关闭项目，状态置为 9，end_at 变为关闭当日 |
|   name   | string       | 不允许重复                           |                                               |
| start_at | 短日期       | 创建日期，项目开始时间               |                                               |
|  end_at  | 短日期       | 项目结束时间                         | 项目到此时间则结束，状态为 10                 |

## 3.表关联

projects.id = plans.p_id

# plans

## 1.plan 必须关联 project

## 2.表结构

|  字段名  | 类型（格式） | 说明                                 | 规则                                        |
| :------: | :----------- | :----------------------------------- | :------------------------------------------ |
|    id    | 主键，int    | 不允许重复                           |                                             |
|  status  | int          | 1：正在进行；10：已完成；9：半途而废 | 手动关闭计划，状态置为 9，更新 end_at       |
|   name   | string       | 不允许重复                           |                                             |
| start_at | 短日期       | 创建日期，计划开始时间               |                                             |
|  end_at  | 短日期       | 计划结束时间                         | 计划全部完成或手动关闭（半途而废）则结束    |
|  total   | int          | 每日完成                             |                                             |
|   done   | int          | 当前已完成                           | 若 done==total，设置状态为 10               |
|   per    | int          | 每日（周）计划完成                   |                                             |
|   unit   | string       | 单元名称，如“课”、“页”、“小时”等     |                                             |
|  level   | int          | 优先级 1-4 对应优先级高-低           |                                             |
|   type   | int          | 每周 6/5/1 天                        | 1:周 6 显示；5：周 1-5 显示；6：周 1-6 显示 |
|   ver    | int          | 0，1,2                               |                                             |

- 其中 ver：0：普通计划（当天完成定量） 1：角虫养成计划（当天可多次完成） 2：项目计划（当天完成定量，有目标）
